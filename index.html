<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√în t·∫≠p HSG & TS10 Chuy√™n Tin</title>
    <script>window.MathJax = { tex: { inlineMath: [['$', '$']] } };</script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Tinh ch·ªânh ƒë·ªÉ Code hi·ªÉn th·ªã ƒë·∫πp h∆°n v·ªõi Highlight.js */
        pre code.hljs {
            padding: 1.5em;
            border-radius: 8px;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 15px;
            line-height: 1.6;
        }
    </style>
</head>
<body>

    <header id="main-header">
        <button class="toggle-btn" onclick="toggleSidebar()">‚ò∞ <span>MENU</span></button>
        <h1 class="header-title">√îN T·∫¨P THI H·ªåC SINH GI·ªéI V√Ä TUY·ªÇN SINH 10 CHUY√äN TIN</h1>
    </header>

    <div class="wrapper">
        <nav id="sidebar">
            <div class="menu-category" onclick="toggleSubmenu('sub1')">1. C·∫•u tr√∫c d·ªØ li·ªáu <span id="icon-sub1">‚ñæ</span></div>
            <div id="sub1" class="submenu hidden"> <a href="#" class="menu-item-parent" onclick="loadLesson('array')">1.1 Array (m·∫£ng tƒ©nh)</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('string')">1.2 String</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('matrix')">1.3 Matrix</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('vector')">1.4 Vector (m·∫£ng ƒë·ªông)</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('set')">1.5 Set</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('pair')">1.6 Pair</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('map')">1.7 Map</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('struct')">1.8 Struct</a>
            </div>

            <div class="menu-category" onclick="toggleSubmenu('sub2')">2. Ki·∫øn th·ª©c to√°n <span id="icon-sub2">‚ñæ</span></div>
            <div id="sub2" class="submenu hidden"> <div class="menu-item-parent" onclick="toggleSubmenu('sub_2_1')" style="border-left: none;"> 2.1 S·ªë h·ªçc <span id="icon-sub_2_1" style="font-size: 0.7rem;">‚ñæ</span></div>
                <div id="sub_2_1" class="submenu hidden submenu-level-3">
                    <a href="#" class="menu-item" onclick="loadLesson('div_rules')">2.1.1 D·∫•u hi·ªáu chia h·∫øt</a>
                    <a href="#" class="menu-item" onclick="loadLesson('square')">2.1.2 S·ªë ch√≠nh ph∆∞∆°ng</a>
                    <a href="#" class="menu-item" onclick="loadLesson('prime')">2.1.3 S·ªë nguy√™n t·ªë</a>
                    <a href="#" class="menu-item" onclick="loadLesson('div_mul')">2.1.4 ∆Ø·ªõc v√† b·ªôi</a>
                </div>
                <a href="#" class="menu-item-parent" onclick="loadLesson('set_math')">2.2 T·∫≠p h·ª£p</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('bignum')">2.3 X·ª≠ l√Ω s·ªë l·ªõn</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('base')">2.4 H·ªá s·ªë</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('geometry')">2.5 H√¨nh h·ªçc</a>
            </div>

            <div class="menu-category" onclick="toggleSubmenu('sub3')">3. T∆∞ t∆∞·ªüng l·∫≠p tr√¨nh <span id="icon-sub3">‚ñæ</span></div>
            <div id="sub3" class="submenu hidden"> <a href="#" class="menu-item-parent" onclick="loadLesson('greedy')">3.1 V√©t c·∫°n</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('binary_search')">3.2 Tham lam</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('two_pointer')">3.3 Chia ƒë·ªÉ tr·ªã</a>
                <a href="#" class="menu-item-parent" onclick="loadLesson('prefix_sum')">3.4 Quy ho·∫°ch ƒë·ªông</a>
            </div>
            <div class="menu-category" onclick="toggleSubmenu('sub3')">4. K·ªπ thu·∫≠t l·∫≠p tr√¨nh <span id="icon-sub3">‚ñæ</span></div>
            <div class="menu-category" onclick="toggleSubmenu('sub3')">5. Thu·∫≠t to√°n <span id="icon-sub3">‚ñæ</span></div>
            <div class="menu-category" onclick="loadLesson('strategy')">6. Chi·∫øn thu·∫≠t thi ƒë·∫•u</div>
        </nav>

        <main id="main-content">
            <div id="render-content">
                <div class="step-card border-blue">
                    <h2 style="text-align: center;">Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi h·ªá th·ªëng √¥n t·∫≠p</h2>
                    <p style="text-align: center;">Vui l√≤ng ch·ªçn m·ªôt chuy√™n ƒë·ªÅ ·ªü Menu b√™n tr√°i ƒë·ªÉ b·∫Øt ƒë·∫ßu.</p>
                </div>
            </div>
            <footer class="teacher-footer">
                <div class="footer-title">Th·∫ßy Ho√†ng ƒêƒÉng Quang - Luy·ªán thi Chuy√™n Tin 10</div>
                <div class="footer-info">
                    <span class="footer-item">üìû 0903781593</span>
                    <a href="http://luyenthichuyentin10.edu.vn" target="_blank" class="footer-item">üåê luyenthichuyentin10.edu.vn</a>
                </div>
            </footer>
        </main>
    </div>

    <script>
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('collapsed');
            document.getElementById('main-content').classList.toggle('expanded');
        }

        // H√†m ƒë√≥ng m·ªü menu c√≥ l∆∞u tr·∫°ng th√°i
        function toggleSubmenu(id) {
            const submenu = document.getElementById(id);
            const icon = document.getElementById('icon-' + id);
            const isHidden = submenu.classList.toggle('hidden');

            // L∆∞u tr·∫°ng th√°i ƒë√≥ng/m·ªü v√†o localStorage
            localStorage.setItem('menu-' + id, isHidden ? 'closed' : 'open');

            // C·∫≠p nh·∫≠t icon m≈©i t√™n
            if (icon) icon.innerText = isHidden ? '‚ñæ' : '‚ñ¥';
        }

        async function loadLesson(lessonId) {
            // 1. X√≥a active c≈© v√† l∆∞u b√†i h·ªçc hi·ªán t·∫°i
            document.querySelectorAll('.menu-item, .menu-item-parent').forEach(el => el.classList.remove('active'));
            localStorage.setItem('lastLesson', lessonId);

            // 2. K√≠ch ho·∫°t m√†u active cho m·ª•c ƒëang ch·ªçn
            const activeMenu = document.querySelector(`[onclick*="'${lessonId}'"]`);
            if (activeMenu) activeMenu.classList.add('active');

            const renderArea = document.getElementById('render-content');
            renderArea.innerHTML = "<p>ƒêang t·∫£i n·ªôi dung...</p>";

            try {
                const response = await fetch(`lessons/${lessonId}.md`);
                if (!response.ok) throw new Error("Kh√¥ng t√¨m th·∫•y file b√†i h·ªçc .md");
                
                const markdown = await response.text();

                if (typeof marked !== 'undefined') {
                    renderArea.innerHTML = marked.parse(markdown);
                    
                    // T√¥ m√†u code
                    renderArea.querySelectorAll('pre code').forEach((el) => {
                        hljs.highlightElement(el);
                    });

                    // Render c√¥ng th·ª©c to√°n
                    if (window.MathJax) MathJax.typesetPromise();
                }
                window.scrollTo(0, 0);
            } catch (error) {
                renderArea.innerHTML = `<div class="step-card border-red">
                    <h2 style="color:red">L·ªói t·∫£i b√†i h·ªçc</h2>
                    <p>${error.message}</p>
                </div>`;
            }
        }

        // --- LOGIC PH·ª§C H·ªíI TR·∫†NG TH√ÅI KHI LOAD TRANG ---
        window.addEventListener('DOMContentLoaded', () => {
            // 1. Ph·ª•c h·ªìi tr·∫°ng th√°i ƒë√≥ng/m·ªü c·ªßa c√°c menu
            const submenus = ['sub1', 'sub2', 'sub3', 'sub_2_1']; 
            submenus.forEach(id => {
                const state = localStorage.getItem('menu-' + id);
                const submenu = document.getElementById(id);
                const icon = document.getElementById('icon-' + id);

                if (state === 'open') {
                    submenu.classList.remove('hidden');
                    if (icon) icon.innerText = '‚ñ¥';
                }
            });

            // 2. Ph·ª•c h·ªìi b√†i h·ªçc cu·ªëi c√πng ƒë√£ xem
            const lastLesson = localStorage.getItem('lastLesson');
            if (lastLesson) {
                loadLesson(lastLesson);
            }
        });
    </script>
</body>
</html>